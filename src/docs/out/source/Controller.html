<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='strappy-mvc-Controller'>/**
</span> * @class strappy.mvc.Controller
 * 
 * TODO:
 * 
 * Explanation &amp; Examples.
 * 
 * Bound Signals:
 * 
 * * {@link strappy.Signal.SHOW}: {@link strappy.mvc.Controller#onSignalShow}
 * * {@link strappy.Signal.HIDE}: {@link strappy.mvc.Controller#onSignalHide}
 * * {@link strappy.Signal.VIEW_DONE_GOTBASEHTML}: {@link strappy.mvc.Controller#onGotBaseHTML}
 * * {@link strappy.Signal.STATEFULMODEL_IS_READY}: {@link strappy.mvc.Controller#onReadyState}
 * 
 * @traits strappy.trait.ComponentConnector
 * @traits strappy.trait.signal.Receive
 * @traits strappy.trait.signal.Send
 * @abstract
 * 
 * @uses strappy.trait.ComponentConnector
 * @uses strappy.trait.signal.Receive
 * @uses strappy.trait.signal.Send
 */
$JSKK.Class.create
(
	{
		$namespace:	'strappy.mvc',
		$name:		'Controller',
		$abstract:	true,
		$uses:
		[
			strappy.trait.ComponentConnector,
			strappy.trait.signal.Receive,
			strappy.trait.signal.Send,
			$JSKK.trait.Observable
		]
	}
)
(
	{},
	{
		events:
		{
			
		},
<span id='strappy-mvc-Controller-method-constructor'>		/**
</span>		 * @constructor
		 * 
		 * Sets up the controller by binding to the above mentioned signals.
		 */
		init: function()
		{
			this.registerSignals
			( 
				{
					_onSignalShow:
					{
						signal:		strappy.Signal.SHOW,
						type:		'strappy',
						filter:		{iid:this.getIID()}
					},
					_onSignalHide:
					{
						signal:		strappy.Signal.HIDE,
						type:		'strappy',
						filter:		{iid:this.getIID()}
					}
				}
			);
		},
<span id='strappy-mvc-Controller-method-onReconfigure'>		/**
</span>		 * This method will be called when a component fires a {@link strappy.Signal.CMP_DO_RECONFIGURE Do Reconfigure}
		 * signal.
		 * @abstract
		 * @param {strappy.Signal} The signal object.
		 */
		onReconfigure:	$JSKK.emptyFunction,
<span id='strappy-mvc-Controller-method-onViewReady'>		/**
</span>		 * This method will be called when a view fires a {@link strappy.Signal.VIEW_IS_READY ready}
		 * signal.
		 * @abstract
		 * @param {strappy.Signal} The signal object.
		 */
		onViewReady:	$JSKK.emptyFunction,
<span id='strappy-mvc-Controller-method-onGotBaseHTML'>		/**
</span>		 * This method will be called when a view fires a {@link strappy.Signal.VIEW_DONE_GOTBASEHTML Got Base HTML}
		 * signal.
		 * @abstract
		 * @param {strappy.Signal} The signal object.
		 */
		onGotBaseHTML: 	$JSKK.emptyFunction,
<span id='strappy-mvc-Controller-method-onReadyState'>		/**
</span>		 * This method will be called when a state model fires a {@link strappy.Signal.STATEFULMODEL_IS_READY Stateful Model is Ready}
		 * signal.
		 * @abstract
		 * @param {strappy.Signal} The signal object.
		 */
		onReadyState:	$JSKK.emptyFunction,
		
		_onSignalShow:	function()
		{
			var controller=this.getController('State');
			$JSKK.when(controller.isReady.bind(controller)).isTrue(this.onSignalShow.bind(this));
		},
		_onSignalHide:	function()
		{
			var controller=this.getController('State');
			$JSKK.when(controller.isReady.bind(controller)).isTrue(this.onSignalHide.bind(this));
		},
		
		onSignalShow:	$JSKK.emptyFunction,
		onSignalHide:	$JSKK.emptyFunction
	}
);</pre>
</body>
</html>
